@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix dnr: <http://www.dotnetrdf.org/configuration#>.

_:factory a dnr:ObjectFactory ;
          dnr:type "VDS.Alexandria.Utilities.MongoDBObjectFactory, dotNetRDF.Alexandria.MongoDB" .
          
 # SPARQL Server for general testing

<dotnetrdf:/mongodb-sparql-server/server/*> a dnr:HttpHandler ;
										 dnr:type "VDS.RDF.Web.SparqlServer" ;
										 dnr:queryProcessor _:autos1 ;
										 dnr:updateProcessor _:autos2 ;
										 dnr:protocolProcessor _:autos3 .
										 
 _:autos1 a dnr:SparqlQueryProcessor ;
 		   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
 		   dnr:usingDataset _:mongoDataset .
 		   
_:autos2 a dnr:SparqlUpdateProcessor ;
		  dnr:type "VDS.RDF.Update.LeviathanUpdateProcessor" ;
		  dnr:usingDataset _:mongoDataset .
		  
_:autos3 a dnr:SparqlHttpProtocolProcessor  ;
		  dnr:type "VDS.RDF.Update.Protocol.LeviathanProtocolProcessor" ;
		  dnr:usingDataset _:mongoDataset .
		  
_:mongoDataset a dnr:SparqlDataset ;
			   dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
			   dnr:genericManager _:mongo .
		  
_:mongo a dnr:GenericIOManager ;
		 dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
		 dnr:loadMode "GraphCentric" ;
		 dnr:database "mongo-sparql-server" .
		 
# BSBM Benchmark Testing

<dotnetrdf:/mongodb-sparql-server/bsbm10> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm10" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .

<dotnetrdf:/mongodb-sparql-server/bsbm50> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm50" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .
															 
<dotnetrdf:/mongodb-sparql-server/bsbm100> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm100" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .
															 
<dotnetrdf:/mongodb-sparql-server/bsbm250> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm250" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .
															 
<dotnetrdf:/mongodb-sparql-server/bsbm500> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm500" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .
															 
<dotnetrdf:/mongodb-sparql-server/bsbm1000> a dnr:HttpHandler ;
										  dnr:type "VDS.RDF.Web.QueryHandler" ;
										  dnr:queryProcessor [ a dnr:SparqlQueryProcessor ;
															   dnr:type "VDS.RDF.Query.LeviathanQueryProcessor" ;
															   dnr:usingDataset [ a dnr:SparqlDataset ;
																				  dnr:type "VDS.Alexandria.Datasets.AlexandriaMongoDBDataset, dotNetRDF.Alexandria.MongoDB" ;
																				  dnr:genericManager [ a dnr:GenericIOManager ;
																									   dnr:type "VDS.Alexandria.AlexandriaMongoDBManager, dotNetRDF.Alexandria.MongoDB" ;
																									   dnr:database "bsbm1000" ;
																									   dnr:loadMode "TripleCentric" 
																									 ]
																				 ]
															 ] .